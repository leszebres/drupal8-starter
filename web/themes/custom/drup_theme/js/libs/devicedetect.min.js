!function(n){"use strict";n.DeviceDetect=function(e){return n.extend(this.settings={},n.DeviceDetect.defaults,e),this.devicesRules={phones:"iphone|ipod|Android.*Mobile|Android.*Mobile Safari|blackberry|opera|mini|windows\\sce|palm|smartphone|iemobile",tablets:"ipad|Android.*Safari|android 3.0|xoom|sch-i800|playbook|tablet|kindle"},this.userAgent=navigator.userAgent,this.devices={},this.type=null,this},n.DeviceDetect.defaults={maxWidth:{smartphone:767,tablet:1023},resizeTimeout:100,onCheckDevice:void 0,onGetDevices:void 0,onCheckScreen:void 0,onGetFormats:void 0},n.DeviceDetect.prototype={checkUserAgent:function(e){return new RegExp(this.devicesRules[e],"i").test(this.userAgent)},checkDevice:function(){return this.checkUserAgent("phones")?this.type="smartphone":this.checkUserAgent("tablets")?this.type="tablet":this.type="desktop",void 0!==this.settings.onCheckDevice&&this.settings.onCheckDevice.call({deviceDetect:this,type:this.getType()}),this.setDevices(),this},checkScreen:function(e){return e>this.settings.maxWidth.smartphone&&e<=this.settings.maxWidth.tablet?this.type="tablet":e<=this.settings.maxWidth.smartphone?this.type="smartphone":this.type="desktop",void 0!==this.settings.onCheckScreen&&this.settings.onCheckScreen.call({deviceDetect:this,type:this.getType()}),this.setDevices(),this},setDevices:function(){return this.devices.smartphone="smartphone"===this.getType(),this.devices.tablet="tablet"===this.getType(),this.devices.desktop="desktop"===this.getType(),this},getDevices:function(){return this.checkDevice(),"desktop"===this.getType()&&this.getFormats(),void 0!==this.settings.onGetDevices&&this.settings.onGetDevices.call({deviceDetect:this,devices:this.devices}),this.devices},getFormats:function(){var e=n(window).width();return this.checkScreen(e),void 0!==this.settings.onGetFormats&&this.settings.onGetFormats.call({deviceDetect:this,windowWidth:e,devices:this.devices}),this.devices},getType:function(){return this.type},onResize:function(t){var i,s=this;n(window).on("resize.devicedetect orientationchange.devicedetect",function(e){clearTimeout(i),i=setTimeout(function(){s.getFormats(),void 0!==t&&"function"==typeof t&&t.call({window:this,event:e,deviceDetect:s,devices:s.devices})},s.settings.resizeTimeout)})}}}(jQuery);