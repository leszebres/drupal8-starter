!function(n){"use strict";n.CustomFormCheck=function(t,e){return this.customForm=t,this.element={context:this.customForm.elementContext,input:this.customForm.elementInput,type:this.customForm.support.type,selector:this.customForm.support.selector,wrapper:null,wrapperInput:null},n.extend(!0,this.settings={},this.customForm.settings,n.CustomFormCheck.defaults,e),this.load()},n.CustomFormCheck.defaults={classes:{checked:"is-checked"},onLoad:void 0,beforeWrap:void 0,afterEventsHandler:void 0,onComplete:void 0,onClick:void 0,onReset:void 0},n.CustomFormCheck.prototype={load:function(){return void 0!==this.settings.onLoad&&this.settings.onLoad.call({customFormCheck:this,element:this.element}),this.wrap(),this.initElementsState(),this.eventsHandler(),this.resetHandler(),void 0!==this.settings.onComplete&&this.settings.onComplete.call({customFormCheck:this,element:this.element}),this},wrap:function(){return this.element.wrapper=n("<span>",{class:this.settings.classes.prefix+" "+this.settings.classes.prefix+"--"+this.getInputType()}),this.element.wrapperInput=n("<span>",{class:this.settings.classes.input,tabindex:this.settings.tabindexStart}),void 0!==this.settings.beforeWrap&&this.settings.beforeWrap.call({customFormCheck:this,wrapper:this.element.wrapper,wrapperInput:this.element.wrapperInput}),this.getInput().parent().wrapInner(this.element.wrapper),this.element.wrapper=this.getInput().parent(),this.getInput().wrap(this.element.wrapperInput),this.element.wrapperInput=this.element.input.parent(),this},initElementsState:function(){return this.getInput().prop("checked")&&this.getWrapper().addClass(this.settings.classes.checked),this.getInput().prop("disabled")&&this.disableOption(),this},eventsHandler:function(){var e=this;return e.getWrapper().on("click.customform keydown.customform",function(t){("click"===t.type||"keydown"===t.type&&32===t.keyCode)&&(t.preventDefault(),e.setOption())}),void 0!==e.settings.afterEventsHandler&&e.settings.afterEventsHandler.call({customFormCheck:this,element:this.element}),e},resetHandler:function(){var e=this;return e.getContext().on("reset.customform",function(t){e.getWrapper().removeClass(e.settings.classes.checked+" "+e.settings.classes.disabled),setTimeout(function(){e.initElementsState(),void 0!==e.settings.onReset&&e.settings.onReset.call({customFormCheck:e,form:n(t.currentTarget)})},0)}),e},setOption:function(){var s=this,t="radio"===s.getInputType();if(!s.getInput().prop("disabled"))return t&&s.getInputsRadio().prop("checked",!1).each(function(t,e){s.getWrapper(n(e)).removeClass(s.settings.classes.checked)}),s.getWrapper()[t?"addClass":"toggleClass"](s.settings.classes.checked),s.getInput().prop("checked",!!t||s.getWrapper().hasClass(s.settings.classes.checked)),s.getInput().triggerHandler("click"),s.getInput().triggerHandler("change"),void 0!==s.settings.onClick&&s.settings.onClick.call({customFormCheck:s,wrapper:s.getWrapper(),input:s.getInput(),type:s.getInputType(),checked:s.getInput().prop("checked")}),s},removeOption:function(t){return t=t||!1,this.getInput().prop("checked")&&(this.setOption(),t&&this.disableOption()),this},disableOption:function(){return this.getInput().prop("disabled",!0).removeAttr("tabindex"),this.getWrapper().addClass(this.settings.classes.disabled),this},getContext:function(){return this.element.context},getInput:function(){return this.element.input},getInputType:function(){return this.element.type},getWrapper:function(t){return void 0===t?this.element.wrapper:t.closest("."+this.settings.classes.prefix)},getInputsRadio:function(){return this.getContext().find(this.element.selector).filter('[name="'+this.getInput().attr("name")+'"]')}}}(jQuery);